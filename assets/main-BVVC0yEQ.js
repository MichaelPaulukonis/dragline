(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function u(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=u(i);fetch(i.href,s)}})();const C="modulepreload",O=function(e){return"/dragline/"+e},L={},b=function(n,u,r){let i=Promise.resolve();if(u&&u.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),t=c?.nonce||c?.getAttribute("nonce");i=Promise.allSettled(u.map(f=>{if(f=O(f),f in L)return;L[f]=!0;const y=f.endsWith(".css"),w=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${w}`))return;const m=document.createElement("link");if(m.rel=y?"stylesheet":C,y||(m.as="script"),m.crossOrigin="",m.href=f,t&&m.setAttribute("nonce",t),document.head.appendChild(m),y)return new Promise((x,z)=>{m.addEventListener("load",x),m.addEventListener("error",()=>z(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(c){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=c,window.dispatchEvent(t),!t.defaultPrevented)throw c}return i.then(c=>{for(const t of c||[])t.status==="rejected"&&s(t.reason);return n().catch(s)})};await b(()=>import("./index-OOssF0th.js"),[]);const P=await b(()=>import("./blocks-D6Mm1M2j.js"),[]);new p5(e=>{let n=[],u=!1,r=-1,i,s,c,t={cols:0,rows:0,cellSize:15};const f=" ";let y=null;const w=document.getElementById("info-box"),m=document.getElementById("close-info-box"),x=()=>{w.classList.contains("hidden")?w.classList.remove("hidden"):w.classList.add("hidden")};m.addEventListener("click",()=>{x()}),e.preload=function(){y=e.loadFont("saxmono.ttf")},e.setup=()=>{e.createCanvas(e.windowWidth,e.windowHeight),t.cols=Math.floor(e.width/t.cellSize),t.rows=Math.floor(e.height/t.cellSize),e.textFont(y),e.noStroke(),v(),e.textSize(t.cellSize+4),e.textAlign(e.LEFT,e.TOP),z(n),S(),x()};function z(a){for(let g=0;g<10;g++){let o=P.default[Math.floor(Math.random()*P.default.length)].map(l=>l.replace(/ /g,f));a.push({lines:o,x:Math.floor(Math.random()*t.cols/2),y:Math.floor(Math.random()*t.rows/2),w:Math.max(...o.map(l=>l.length)),h:o.length})}}const v=()=>{c=e.drawingContext.createLinearGradient(0,0,e.width,0),c.addColorStop(0,"#f8b500"),c.addColorStop(1,"#fceabb")};function M(){e.drawingContext.fillStyle=c,e.drawingContext.fillRect(0,0,e.width,e.height)}const S=()=>{if(M(),u){const d=60-r*(-180/n.length)%-180,E=50,R=100,_=100;e.colorMode(e.HSB),e.fill(d,E,R,_),e.rect(n[r].x*t.cellSize,n[r].y*t.cellSize,n[r].w*t.cellSize,n[r].h*t.cellSize),e.colorMode(e.RGB),e.fill(0)}e.fill(0);const a=Array(t.rows).fill().map(()=>Array(t.cols).fill(f)),g=(o,l,h)=>o.y+l>=0&&o.y+l<t.rows&&o.x+h>=0&&o.x+h<t.cols;for(let o of n)for(let l=0;l<o.lines.length;l++){const h=o.lines[l];for(let d=0;d<h.length;d++)if(h[d]!==f)try{g(o,l,d)&&a[o.y+l][o.x+d]===f&&(a[o.y+l][o.x+d]=h[d])}catch(E){console.error(E),console.error(`Error at position (${o.x+d}, ${o.y+l})`)}}for(let o=0;o<a.length;o++)for(let l=0;l<a[o].length;l++){const h=l*t.cellSize,d=o*t.cellSize;e.text(a[o][l],h,d)}};e.draw=()=>{u&&S()},e.mousePressed=()=>{for(let a=0;a<n.length;a++){let g=n[a];const o=g.x*t.cellSize,l=g.y*t.cellSize,h=g.w*t.cellSize,d=g.h*t.cellSize;if(e.mouseX>o&&e.mouseX<o+h&&e.mouseY>l&&e.mouseY<l+d){u=!0,r=a,i=e.mouseX-o,s=e.mouseY-l;break}}},e.mouseDragged=()=>{if(u){let a=n[r];a.x=Math.floor((e.mouseX-i)/t.cellSize),a.y=Math.floor((e.mouseY-s)/t.cellSize)}},e.mouseReleased=()=>{u=!1,S()},e.windowResized=()=>{e.resizeCanvas(e.windowWidth,e.windowHeight),v()},e.keyPressed=()=>{e.key==="i"&&x(),!(!u||r===-1)&&(e.keyCode===e.DOWN_ARROW?r<n.length-1&&([n[r],n[r+1]]=[n[r+1],n[r]],r++,S()):e.keyCode===e.UP_ARROW&&r>0&&([n[r],n[r-1]]=[n[r-1],n[r]],r--,S()))}});
